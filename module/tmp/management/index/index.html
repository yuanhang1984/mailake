<!DOCTYPE html>
<html>
<head>
<meta charset = "utf-8" />
<!-- *********************************************************************** -->
<!-- plugin css -->
<!-- *********************************************************************** -->
<link rel = "stylesheet" href = "../../../plugin/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel = "stylesheet" href = "../../../plugin/font-awesome/3.2.1/css/font-awesome.min.css">
<!-- *********************************************************************** -->
<!-- custom css -->
<!-- *********************************************************************** -->
<link rel = "stylesheet" type = "text/css" href = "../../../css/global.css"/>
<link rel = "stylesheet" type = "text/css" href = "../../../lib/css/default_theme/JSTree.css"/>
<link rel = "stylesheet" type = "text/css" href = "./css/index.css"/>
<!-- *********************************************************************** -->
<!-- plugin js -->
<!-- *********************************************************************** -->
<script src = "../../../plugin/jquery/1.12.4/jquery.min.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../../plugin/bootstrap/3.3.7/js/bootstrap.min.js" type = "text/javascript" charset = "utf-8"></script>
<!-- *********************************************************************** -->
<!-- custom js -->
<!-- *********************************************************************** -->
<script src = "../../../js/toolkit/JString.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../../js/system/Configure.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../../lib/js/JSTree.js" type = "text/javascript" charset = "utf-8"></script>
<script>
////////////////////////////////////////////////////////////////////////////////
// ECMAScript规范
////////////////////////////////////////////////////////////////////////////////
"use strict";
////////////////////////////////////////////////////////////////////////////////
// JSTree对象
////////////////////////////////////////////////////////////////////////////////
let menuTree = new JSTree();
menuTree.setNode(
  [
    {
      "text": "<span>Ant</span><span>Colony</span>"
    },
    {
      "text": "Server",
      "list": [
        {
          "text": "Module",
          "link": `${Configure.getWebUrl()}management/server/module/module.html`
        },
        {
          "text": "Source",
          "link": `${Configure.getWebUrl()}management/server/source/source.html`
        },
        {
          "text": "Library",
          "link": `${Configure.getWebUrl()}management/server/library/library.html`
        },
        {
          "text": "Console",
          "link": `${Configure.getWebUrl()}management/server/console/console.html`
        }
      ]
    },
    {
      "text": "User Security",
      "list": [
        {
          "text": "Role",
          "link": `${Configure.getWebUrl()}management/user_security/role/role.html`
        },
        {
          "text": "User",
          "link": `${Configure.getWebUrl()}management/user_security/user/user.html`
        }
      ]
    },
    {
      "text": "Current User",
      "list": [
        {
          "text": "Modify Password",
          "link": `${Configure.getWebUrl()}management/current_user/modify_password/modify_password.html`
        },
        {
          "text": "Logout",
          "link": `${Configure.getWebUrl()}management/current_user/logout/logout.html`
        }
      ]
    },
    {
      "text": "Copyright 2018 Palestink.com"
    }
  ]
);
menuTree.setLinkTarget("pageArea");
menuTree.setClass("menuTree");
menuTree.generateCode();
////////////////////////////////////////////////////////////////////////////////
// 输出代码
////////////////////////////////////////////////////////////////////////////////
$(document).ready(function() {
  $("#menuTreeArea").html(menuTree.getCode());
  menuTree.update();
  // 调整菜单显示的高度
  $("#menuTreeArea").css("height", $(window).height() + "px");
  // 调整菜单最后一栏置底
  if ($(window).height() > $(`#${menuTree.getId()}`).height()) {
    $(".menuTree").find("li:last-child").find("span").css("margin-top", $(window).height() - $(`#${menuTree.getId()}`).height() + "px");
  }
  // 调整pageArea宽度
  $("#pageArea").css("width", ($(window).width() - $(`#${menuTree.getId()}`).width()) + "px");
  $("#pageArea").css("height", $(window).height() + "px");
  // 设置logout菜单在当前页面跳转
  $("#" + menuTree.getId()).find("a:contains('Logout')").attr("target", "_self");
});
</script>
<title>Ant Colony</title>
</head>
<body>
  <div>
    <div id = "menuTreeArea"></div>
    <iframe id = "pageArea" src = "../document/document.html" name = "pageArea"></iframe>
  </div>
</body>
</html>
